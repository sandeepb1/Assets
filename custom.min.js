function selectStyle(a) {
    $("link[title]").each(function(s, t) {
        t.disabled = t.title !== a
    })
}
const isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches;
$(".language-markup").removeClass("language-markup");
hljs.initHighlighting();
$(".hljs").css("background", "none");
$("#post pre").addClass("bg-light");
$(".snippet-content pre").addClass("bg-light");
selectStyle("Atom One Light");

if (isDarkMode) {
    $(".snippet-content pre").addClass("bg-dark");
    $("body").addClass("bg-black");
    $("body .header").addClass("black");
    $("#comments").addClass("bg-dark");
    $("#tags li a").addClass("bg-light text-dark");
    $(".scrolltotop a").addClass("button-circle-white");
    $("#post pre").removeClass("bg-light").addClass("bg-dark");
    $(".snippet-content pre").removeClass("bg-light").addClass("bg-dark");
    $("#subscribeModal .modal-content").removeClass("bg-gray").addClass("bg-dark");
    $("#search").removeClass("bg-light-gray").addClass("bg-dark");
    $("#search button").removeClass("button-circle-dark").addClass("button-circle-outline-white-2");
    $("#privacyModal .modal-content").removeClass("bg-gray").addClass("bg-dark");
    $("#privacyModal .text-dark").removeClass("text-dark").addClass("text-light");
    $("#subscribeModal .modal-content .text-dark").removeClass("text-dark").addClass("text-light");
    selectStyle("Night Owl");
} else {
    $("#comments").addClass("bg-dark-gray");
    $("#post img").addClass("img-fluid border-radius-025");
    $("#post a").addClass("button-text-1");
}

$(".snippet").click(function(a) {
    _paq.push(["trackEvent", "Snippet View", $(this).data("id")]);
});

$("#mc-embedded-subscribe-form").submit(function(a) {
    return _paq.push(["trackEvent", "Subscription", "Subscribed"]);
    return true;
});

$('.filter').click(function() {
    _paq.push(["trackEvent", "filter", $(this).text()]);
});

$("#privacyOptOut").click(function(a) {
    a.preventDefault(), _paq.push(["forgetConsentGiven"]);
    $(this).html('<span class="text-success">You have been opted out.</span>')
});